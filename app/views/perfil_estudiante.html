<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JobTrack - Mi Perfil</title>
    <link rel="stylesheet" href="../../recursos/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="../../recursos/sweetalert/sweetalert2.min.css">
    <style>
        .sticky-actions {
            position: sticky;
            top: 20px;
            align-self: flex-start;
        }
    </style>
</head>

<body>

    <header class="py-3" style="background-color: #112852;">
        <div class="container d-flex justify-content-between align-items-center">
            <h1 class="text-white"><i class="fas fa-briefcase"></i> JobTrack</h1>
            <nav>
                <ul class="list-unstyled d-flex m-0" style="gap: 20px;">
                    <li><a href="../views/dashboard_estudiante.html" class="text-white text-decoration-none"><i
                                class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="../views/perfil_estudiante.html" class="text-white text-decoration-none"><i
                                class="fas fa-user-circle"></i> Mi Perfil</a></li>
                    <li><a href="../views/explorar_oferta.html" class="text-white text-decoration-none"><i
                                class="fas fa-search"></i> Ofertas de Empleo</a></li>
                    <li><a href="../views/administrar_aplicaciones.html" class="text-white text-decoration-none"><i
                                class="fas fa-file-alt"></i> Mis Aplicaciones</a></li>
                    <li><a href="../../index.html" class="btn" style="background-color: #F0C11A; color: #000;"><i
                                class="fas fa-sign-out-alt"></i> Cerrar Sesión</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="container mt-4">
        <h2 class="mb-4" style="color: #112852;"><i class="fas fa-user-circle me-2"></i> Mi Perfil</h2>

        <div class="row">
            <div class="col-md-8">
                <div class="card shadow-sm mb-4">
                    <div class="card-header" style="background-color: #F0C11A; color: #112852;">
                        <i class="fas fa-id-card me-2" style="color: #112852;"></i> Información Personal
                    </div>
                    <div class="card-body">
                        <form id="formInformacionPersonal">
                            <div class="mb-3">
                                <label for="nombre" class="form-label">Nombre <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="nombre" placeholder="Nombre del Estudiante"
                                    required>
                            </div>
                            <div class="mb-3">
                                <label for="apellido" class="form-label">Apellido <span
                                        class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="apellido"
                                    placeholder="Apellido del Estudiante" required>
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">Correo Electrónico <span
                                        class="text-danger">*</span></label>
                                <input type="email" class="form-control" id="email" placeholder="Email del Estudiante">
                            </div>
                            <div class="mb-3">
                                <label for="telefono" class="form-label">Teléfono</label>
                                <input type="tel" class="form-control" id="telefono"
                                    placeholder="Teléfono del Estudiante">
                            </div>
                            <button type="submit" class="btn btn-primary"
                                style="background-color: #112852; border-color: #112852;">
                                <i class="fas fa-save me-2"></i> Guardar Información
                            </button>
                        </form>
                    </div>
                </div>

                <div class="card shadow-sm mb-4">
                    <div class="card-header" style="background-color: #F0C11A; color: #112852;">
                        <i class="fas fa-graduation-cap me-2" style="color: #112852;"></i> Información Académica
                    </div>
                    <div class="card-body">
                        <form id="formInformacionAcademica">
                            <div class="mb-3">
                                <label for="carrera" class="form-label">Carrera <span
                                        class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="carrera"
                                    placeholder="Carrera del Estudiante" required>
                            </div>
                            <div class="mb-3">
                                <label for="anioGraduacion" class="form-label">Año de Graduación</label>
                                <input type="text" class="form-control" id="anioGraduacion"
                                    placeholder="Año de Graduación">
                            </div>
                            <button type="submit" class="btn btn-primary"
                                style="background-color: #112852; border-color: #112852;">
                                <i class="fas fa-save me-2"></i> Guardar Información
                            </button>
                        </form>
                    </div>
                </div>

                <div class="card shadow-sm mb-4">
                    <div class="card-header" style="background-color: #F0C11A; color: #112852;">
                        <i class="fas fa-briefcase me-2" style="color: #112852;"></i> Información Laboral
                    </div>
                    <div class="card-body">
                        <form id="formInformacionLaboral">
                            <div class="mb-3">
                                <label class="form-label">¿Tienes experiencia laboral?</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tiene_experiencia"
                                        id="noExperiencia" value="no">
                                    <label class="form-check-label" for="noExperiencia">
                                        No tengo experiencia laboral
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="tiene_experiencia"
                                        id="siExperiencia" value="si">
                                    <label class="form-check-label" for="siExperiencia">
                                        Sí, tengo experiencia laboral
                                    </label>
                                </div>
                            </div>

                            <div class="mb-3" id="descripcionLaboralContainer" style="display: none;">
                                <label for="descripcion_laboral_resumen" class="form-label">Descripción Laboral
                                    (Resumen) <span class="text-danger">*</span></label>
                                <textarea class="form-control" id="descripcion_laboral_resumen"
                                    name="descripcion_laboral_resumen" rows="4"
                                    placeholder="Describe brevemente tu experiencia laboral relevante."></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary"
                                style="background-color: #112852; border-color: #112852;">
                                <i class="fas fa-save me-2"></i> Guardar Información
                            </button>
                        </form>
                    </div>
                </div>

                <div class="card shadow-sm mb-4">
                    <div class="card-header" style="background-color: #F0C11A; color: #112852;">
                        <i class="fas fa-file-alt me-2" style="color: #112852;"></i> Currículum Vitae (CV)
                    </div>
                    <div class="card-body">
                        <p>Tu CV actual: <a href="[Enlace al CV actual]" target="_blank">[Nombre del Archivo
                                CV]</a></p>
                        <form id="formActualizarCV">
                            <div class="mb-3">
                                <label for="cvNuevo" class="form-label">Subir Nuevo CV</label>
                                <input class="form-control" type="file" id="cvNuevo" accept=".pdf, .doc, .docx">
                                <small class="form-text text-muted">Peso máximo del archivo: 2MB. Formatos
                                    permitidos: PDF, DOC, DOCX.</small>
                            </div>
                            <button type="submit" class="btn btn-primary"
                                style="background-color: #112852; border-color: #112852;">
                                <i class="fas fa-upload me-2"></i> Actualizar CV
                            </button>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col-md-4 sticky-actions">
                <div class="card shadow-sm">
                    <div class="card-header" style="background-color: #112852; color: #FFFFFF;">
                        <i class="fas fa-cog me-2" style="color: #F0C11A;"></i> Acciones
                    </div>
                    <div class="card-body">
                        <ul class="list-unstyled">
                            <li>
                                <a href="#" class="btn btn-outline w-100 mt-2"
                                    style="color: #112852; border-color: #112852;" id="btnCambiarContrasena"
                                    data-toggle="modal" data-target="#modalCambiarContrasena">
                                    <i class="fas fa-lock me-2"></i> Cambiar Contraseña
                                </a>
                            </li>
                            <li>
                                <a href="#" class="btn btn-outline-danger w-100 mt-2" id="btnEliminarCuenta"
                                    data-toggle="modal" data-target="#deleteAccountModal">
                                    <i class="fas fa-trash-alt me-2"></i> Eliminar Cuenta
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="modalCambiarContrasena" tabindex="-1" role="dialog"
                aria-labelledby="modalCambiarContrasenaLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: #112852; color: #FFFFFF;">
                            <h5 class="modal-title" id="modalCambiarContrasenaLabel">
                                <i class="fas fa-lock me-2" style="color: #F0C11A;"></i> Cambiar Contraseña
                            </h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div id="changePasswordMessage" class="mt-3"></div>
                            <form id="formCambiarContrasena" method="post">
                                <div class="form-group mb-3">
                                    <label for="currentPassword">Contraseña Actual:</label>
                                    <input type="password" class="form-control" id="currentPassword"
                                        name="currentPassword" required>
                                </div>
                                <div class="form-group mb-3">
                                    <label for="newPassword">Nueva Contraseña:</label>
                                    <input type="password" class="form-control" id="newPassword" name="newPassword"
                                        required>
                                </div>
                                <div class="form-group mb-4">
                                    <label for="confirmNewPassword">Confirmar Nueva Contraseña:</label>
                                    <input type="password" class="form-control" id="confirmNewPassword"
                                        name="confirmNewPassword" required>
                                </div>
                                <div class="d-grid gap-2">
                                    <button type="submit" class="btn btn-block"
                                        style="background-color: #112852; color: #FFFFFF;">Guardar Cambios</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal fade" id="deleteAccountModal" tabindex="-1" role="dialog"
                aria-labelledby="deleteAccountModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header bg-danger text-white">
                            <h5 class="modal-title" id="deleteAccountModalLabel">
                                <i class="fas fa-exclamation-triangle me-2"></i> Eliminar Cuenta
                            </h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">×</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <p>Estás a punto de eliminar tu cuenta de forma permanente. Esta acción no se puede
                                deshacer.</p>
                            <p>Para confirmar, por favor, ingresa tu contraseña:</p>
                            <form id="deleteAccountForm" method="post">
                                <div class="form-group">
                                    <label for="deletePassword">Contraseña:</label>
                                    <input type="password" class="form-control" id="deletePassword"
                                        name="deletePassword" required>
                                </div>
                                <div id="deleteAccountMessage" class="mt-3">
                                </div>
                                <div class="modal-footer d-flex justify-content-between">
                                    <button type="button" class="btn btn-secondary"
                                        data-dismiss="modal">Cancelar</button>
                                    <button type="submit" class="btn btn-danger">Eliminar Mi Cuenta</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <footer class="py-3 mt-5" style="background-color: #112852; color: #FFFFFF;">
        <div class="container text-center">
            <p class="m-0">&copy; 2025 JobTrack - Universidad Cristiana de las Asambleas de Dios</p>
            <div class="social-icons mt-2">
                <a href="https://www.facebook.com/universidad.cristiana.ucad" class="mx-2" style="color: #FFFFFF;"><i
                        class="fab fa-facebook fa-2x"></i></a>
                <a href="https://www.instagram.com/universidad_cristianaad/" class="mx-2" style="color: #FFFFFF;"><i
                        class="fab fa-instagram fa-2x"></i></a>
                <a href="https://www.youtube.com/@universidadcristianadelasa1430" class="mx-2"
                    style="color: #FFFFFF;"><i class="fab fa-youtube fa-2x"></i></a>
            </div>
        </div>
    </footer>

    <script src="../../recursos/jquery/jquery.min.js"></script>
    <script src="../../recursos/pooper/popper.min.js"></script>
    <script src="../../recursos/bootstrap/js/bootstrap.min.js"></script>
    <script src="../../recursos/sweetalert/sweetalert2.all.min.js"></script>
    <script src="../controllers/acciones_estudiantes.js"></script>
    <script src="../controllers/actualizar_perfil_personal.js"></script>
    <script src="../controllers/actualizar_perfil_academico.js"></script>
    <script src="../controllers/actualizar_perfil_laboral.js"></script>
    <script src="../controllers/actualizar_perfil_cv.js"></script>

</body>

</html>